
2018-05-21 15:17:12,983 [DEBUG]: (tavern.schemas.files:30) Verifying /tmp/tmpBJaOFB.yaml against /home/luis/.local/lib/python2.7/site-packages/tavern/schemas/tests.schema.yaml 2018-05-21 15:17:13,043 [INFO]: (tavern.core:70) Running test : get_packages 2018-05-21 15:17:13,043 [DEBUG]: (tavern.core:76) Entering context for requests 2018-05-21 15:17:13,043 [DEBUG]: (tavern.request.rest:168) Request args: {'url': 'http://sp.int3.sonata-nfv.eu:32001/api/v2/sessions', 'headers': {'Content-Type': 'application/json'}, 'json': {'username': 'sonata', 'password': '1234'}, 'method': 'POST', 'verify': True} 2018-05-21 15:17:13,044 [INFO]: (tavern.core:99) Running stage : get_token 2018-05-21 15:17:18,411 [INFO]: (tavern.response.rest:72) Response: '<Response [200]>' ({"username":"sonata","session_began_at":"2018-05-21 13:17:18 UTC","token":{"access_token":"eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJMZTM4ejBocXhVSHo1d09PRmZyUEh6MnRYN2RLQU5nZ0ZIdGtVcTU1Nm5zIn0.eyJqdGkiOiJiYjY3MTFhZC1jOTczLTQ3NmUtYWUzZC1hYzVlOTgwN2FjNTciLCJleHAiOjE1MjY5MDk4MzgsIm5iZiI6MCwiaWF0IjoxNTI2OTA4NjM4LCJpc3MiOiJodHRwOi8vc29uLWtleWNsb2FrOjU2MDEvYXV0aC9yZWFsbXMvc29uYXRhIiwiYXVkIjoiYWRhcHRlciIsInN1YiI6ImViMTY4NzIxLWZkZDktNGMwYS1hMTY3LWViNWEzOWVmNzVlYyIsInR5cCI6IkJlYXJlciIsImF6cCI6ImFkYXB0ZXIiLCJhdXRoX3RpbWUiOjAsInNlc3Npb25fc3RhdGUiOiJkMWJjNzU5NS0yMmUyLTQ4YjAtYWEzYi01MTMwOWU0ODFhNjUiLCJhY3IiOiIxIiwiYWxsb3dlZC1vcmlnaW5zIjpbImh0dHA6Ly9zb24tZ3RrdXNyOjU2MDAiXSwicmVhbG1fYWNjZXNzIjp7InJvbGVzIjpbImFkbWluIiwidW1hX2F1dGhvcml6YXRpb24iXX0sInJlc291cmNlX2FjY2VzcyI6eyJyZWFsbS1tYW5hZ2VtZW50Ijp7InJvbGVzIjpbInZpZXctcmVhbG0iLCJ2aWV3LWlkZW50aXR5LXByb3ZpZGVycyIsIm1hbmFnZS1pZGVudGl0eS1wcm92aWRlcnMiLCJpbXBlcnNvbmF0aW9uIiwicmVhbG0tYWRtaW4iLCJjcmVhdGUtY2xpZW50IiwibWFuYWdlLXVzZXJzIiwicXVlcnktcmVhbG1zIiwidmlldy1hdXRob3JpemF0aW9uIiwicXVlcnktY2xpZW50cyIsInF1ZXJ5LXVzZXJzIiwibWFuYWdlLWV2ZW50cyIsIm1hbmFnZS1yZWFsbSIsInZpZXctZXZlbnRzIiwidmlldy11c2VycyIsInZpZXctY2xpZW50cyIsIm1hbmFnZS1hdXRob3JpemF0aW9uIiwibWFuYWdlLWNsaWVudHMiLCJxdWVyeS1ncm91cHMiXX0sImFjY291bnQiOnsicm9sZXMiOlsibWFuYWdlLWFjY291bnQiLCJtYW5hZ2UtYWNjb3VudC1saW5rcyIsInZpZXctcHJvZmlsZSJdfX0sIm5hbWUiOiJBZG1pbiBEZWZhdWx0IiwicHJlZmVycmVkX3VzZXJuYW1lIjoic29uYXRhIiwiZ2l2ZW5fbmFtZSI6IkFkbWluIiwiZmFtaWx5X25hbWUiOiJEZWZhdWx0IiwiZW1haWwiOiJzb25hdGEuYWRtaW5AZW1haWwuY29tIn0.KAWZiENk_i3gT39R91bIZYUkmL7Gm4eFChL29oK1UeOfWkuWioawOPNSYdAyGoD6_5yRgYg70cu-mPCw47RpaonDhA3SCMDsXSs-gCoJFnGjcrBHKCUQkCmxxAS_mR7ku_N9qtiwI7jmG3nmWIgB5MuQgg35KIYFqlxY-NGKZwV4A2QbeR1DqKFTyE4hxRbnv4ktO6tOC7vPfOG53d5SuSd2BdeKbOoY9bXX_8MrzzxERaHVHhyQ9OZTTEouDLrm2-coj4P7U4Ml7D7r8-w9sw1TyUfXnq4AKZe4-iHVrBPFq0rLnhZCqqAwqnIwBqBTUZVF-pMhflPDxgKNMyJpCg","expires_in":1200,"refresh_expires_in":1800,"refresh_token":"eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJMZTM4ejBocXhVSHo1d09PRmZyUEh6MnRYN2RLQU5nZ0ZIdGtVcTU1Nm5zIn0.eyJqdGkiOiI0MzEzMTE2YS1hODg3LTQyYzYtOWNkNi0yOTE2OWQxNWI4MjMiLCJleHAiOjE1MjY5MTA0MzgsIm5iZiI6MCwiaWF0IjoxNTI2OTA4NjM4LCJpc3MiOiJodHRwOi8vc29uLWtleWNsb2FrOjU2MDEvYXV0aC9yZWFsbXMvc29uYXRhIiwiYXVkIjoiYWRhcHRlciIsInN1YiI6ImViMTY4NzIxLWZkZDktNGMwYS1hMTY3LWViNWEzOWVmNzVlYyIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJhZGFwdGVyIiwiYXV0aF90aW1lIjowLCJzZXNzaW9uX3N0YXRlIjoiZDFiYzc1OTUtMjJlMi00OGIwLWFhM2ItNTEzMDllNDgxYTY1IiwicmVhbG1fYWNjZXNzIjp7InJvbGVzIjpbImFkbWluIiwidW1hX2F1dGhvcml6YXRpb24iXX0sInJlc291cmNlX2FjY2VzcyI6eyJyZWFsbS1tYW5hZ2VtZW50Ijp7InJvbGVzIjpbInZpZXctcmVhbG0iLCJ2aWV3LWlkZW50aXR5LXByb3ZpZGVycyIsIm1hbmFnZS1pZGVudGl0eS1wcm92aWRlcnMiLCJpbXBlcnNvbmF0aW9uIiwicmVhbG0tYWRtaW4iLCJjcmVhdGUtY2xpZW50IiwibWFuYWdlLXVzZXJzIiwicXVlcnktcmVhbG1zIiwidmlldy1hdXRob3JpemF0aW9uIiwicXVlcnktY2xpZW50cyIsInF1ZXJ5LXVzZXJzIiwibWFuYWdlLWV2ZW50cyIsIm1hbmFnZS1yZWFsbSIsInZpZXctZXZlbnRzIiwidmlldy11c2VycyIsInZpZXctY2xpZW50cyIsIm1hbmFnZS1hdXRob3JpemF0aW9uIiwibWFuYWdlLWNsaWVudHMiLCJxdWVyeS1ncm91cHMiXX0sImFjY291bnQiOnsicm9sZXMiOlsibWFuYWdlLWFjY291bnQiLCJtYW5hZ2UtYWNjb3VudC1saW5rcyIsInZpZXctcHJvZmlsZSJdfX19.glerVyglTUY7M_RNfmC81UqRWZMdvURGx4qdCJm7Fa7KqOYr-l4NU4BwrZGOw5w1hc9jQmyWn766vBxRdzCJ-OMRCvLl1zPcHBvfsYC9_dLF6qGATbDL-2u-MQKNYXmMbZKAXRfr5pMjbBOaYfRd3jIWTxLNNi7i9dyNubz3aEyj706SwUm-JJJeQjqnTvbKQMg4HfankSPDMA0Ust8NxRL6oRU3n62lkJ5u9u_8V7lMiPBQDbyKchl1-5fcH7-o049Oz4DXaGkHrmX8bh1iHhXTNJ8ymO4saf3H811GOGIXVrOPJcslfGojJwNQAgIdm-dgwyjWVpVvl5upnQPTzw","token_type":"bearer","not-before-policy":0,"session_state":"d1bc7595-22e2-48b0-aa3b-51309e481a65"}}) 2018-05-21 15:17:18,411 [DEBUG]: (tavern.response.rest:213) Saved {'test_login_token': u'eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJMZTM4ejBocXhVSHo1d09PRmZyUEh6MnRYN2RLQU5nZ0ZIdGtVcTU1Nm5zIn0.eyJqdGkiOiJiYjY3MTFhZC1jOTczLTQ3NmUtYWUzZC1hYzVlOTgwN2FjNTciLCJleHAiOjE1MjY5MDk4MzgsIm5iZiI6MCwiaWF0IjoxNTI2OTA4NjM4LCJpc3MiOiJodHRwOi8vc29uLWtleWNsb2FrOjU2MDEvYXV0aC9yZWFsbXMvc29uYXRhIiwiYXVkIjoiYWRhcHRlciIsInN1YiI6ImViMTY4NzIxLWZkZDktNGMwYS1hMTY3LWViNWEzOWVmNzVlYyIsInR5cCI6IkJlYXJlciIsImF6cCI6ImFkYXB0ZXIiLCJhdXRoX3RpbWUiOjAsInNlc3Npb25fc3RhdGUiOiJkMWJjNzU5NS0yMmUyLTQ4YjAtYWEzYi01MTMwOWU0ODFhNjUiLCJhY3IiOiIxIiwiYWxsb3dlZC1vcmlnaW5zIjpbImh0dHA6Ly9zb24tZ3RrdXNyOjU2MDAiXSwicmVhbG1fYWNjZXNzIjp7InJvbGVzIjpbImFkbWluIiwidW1hX2F1dGhvcml6YXRpb24iXX0sInJlc291cmNlX2FjY2VzcyI6eyJyZWFsbS1tYW5hZ2VtZW50Ijp7InJvbGVzIjpbInZpZXctcmVhbG0iLCJ2aWV3LWlkZW50aXR5LXByb3ZpZGVycyIsIm1hbmFnZS1pZGVudGl0eS1wcm92aWRlcnMiLCJpbXBlcnNvbmF0aW9uIiwicmVhbG0tYWRtaW4iLCJjcmVhdGUtY2xpZW50IiwibWFuYWdlLXVzZXJzIiwicXVlcnktcmVhbG1zIiwidmlldy1hdXRob3JpemF0aW9uIiwicXVlcnktY2xpZW50cyIsInF1ZXJ5LXVzZXJzIiwibWFuYWdlLWV2ZW50cyIsIm1hbmFnZS1yZWFsbSIsInZpZXctZXZlbnRzIiwidmlldy11c2VycyIsInZpZXctY2xpZW50cyIsIm1hbmFnZS1hdXRob3JpemF0aW9uIiwibWFuYWdlLWNsaWVudHMiLCJxdWVyeS1ncm91cHMiXX0sImFjY291bnQiOnsicm9sZXMiOlsibWFuYWdlLWFjY291bnQiLCJtYW5hZ2UtYWNjb3VudC1saW5rcyIsInZpZXctcHJvZmlsZSJdfX0sIm5hbWUiOiJBZG1pbiBEZWZhdWx0IiwicHJlZmVycmVkX3VzZXJuYW1lIjoic29uYXRhIiwiZ2l2ZW5fbmFtZSI6IkFkbWluIiwiZmFtaWx5X25hbWUiOiJEZWZhdWx0IiwiZW1haWwiOiJzb25hdGEuYWRtaW5AZW1haWwuY29tIn0.KAWZiENk_i3gT39R91bIZYUkmL7Gm4eFChL29oK1UeOfWkuWioawOPNSYdAyGoD6_5yRgYg70cu-mPCw47RpaonDhA3SCMDsXSs-gCoJFnGjcrBHKCUQkCmxxAS_mR7ku_N9qtiwI7jmG3nmWIgB5MuQgg35KIYFqlxY-NGKZwV4A2QbeR1DqKFTyE4hxRbnv4ktO6tOC7vPfOG53d5SuSd2BdeKbOoY9bXX_8MrzzxERaHVHhyQ9OZTTEouDLrm2-coj4P7U4Ml7D7r8-w9sw1TyUfXnq4AKZe4-iHVrBPFq0rLnhZCqqAwqnIwBqBTUZVF-pMhflPDxgKNMyJpCg'} for 'body' from response 2018-05-21 15:17:18,411 [DEBUG]: (tavern.response.rest:197) Nothing expected to save for headers 2018-05-21 15:17:18,411 [DEBUG]: (tavern.response.rest:197) Nothing expected to save for redirect_query_params 2018-05-21 15:17:18,411 [DEBUG]: (tavern.response.rest:127) No save function 2018-05-21 15:17:18,412 [DEBUG]: (tavern.response.rest:175) Validating body for {} 2018-05-21 15:17:18,412 [DEBUG]: (tavern.response.base:57) Nothing to check against 2018-05-21 15:17:18,412 [DEBUG]: (tavern.response.rest:175) Validating headers for {'content-type': 'application/json'} 2018-05-21 15:17:18,412 [DEBUG]: (tavern.response.base:67) expected = {'content-type': 'application/json'}, actual = {'Content-Length': '3565', 'Content-Type': 'application/json', 'X-Content-Type-Options': 'nosniff'} 2018-05-21 15:17:18,412 [DEBUG]: (tavern.response.base:96) content-type: application/json vs application/json 2018-05-21 15:17:18,412 [DEBUG]: (tavern.response.base:105) Key content-type was present and matched 2018-05-21 15:17:18,412 [DEBUG]: (tavern.response.rest:175) Validating redirect_query_params for {} 2018-05-21 15:17:18,412 [DEBUG]: (tavern.response.base:57) Nothing to check against 2018-05-21 15:17:18,412 [INFO]: (tavern.printer:10) PASSED: get_token 2018-05-21 15:17:18,412 [DEBUG]: (tavern.request.rest:168) Request args: {'url': 'http://sp.int3.sonata-nfv.eu:32001/api/v2/packages', 'headers': {'content-type': 'application/json', 'authorization': 'Bearer eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJMZTM4ejBocXhVSHo1d09PRmZyUEh6MnRYN2RLQU5nZ0ZIdGtVcTU1Nm5zIn0.eyJqdGkiOiJiYjY3MTFhZC1jOTczLTQ3NmUtYWUzZC1hYzVlOTgwN2FjNTciLCJleHAiOjE1MjY5MDk4MzgsIm5iZiI6MCwiaWF0IjoxNTI2OTA4NjM4LCJpc3MiOiJodHRwOi8vc29uLWtleWNsb2FrOjU2MDEvYXV0aC9yZWFsbXMvc29uYXRhIiwiYXVkIjoiYWRhcHRlciIsInN1YiI6ImViMTY4NzIxLWZkZDktNGMwYS1hMTY3LWViNWEzOWVmNzVlYyIsInR5cCI6IkJlYXJlciIsImF6cCI6ImFkYXB0ZXIiLCJhdXRoX3RpbWUiOjAsInNlc3Npb25fc3RhdGUiOiJkMWJjNzU5NS0yMmUyLTQ4YjAtYWEzYi01MTMwOWU0ODFhNjUiLCJhY3IiOiIxIiwiYWxsb3dlZC1vcmlnaW5zIjpbImh0dHA6Ly9zb24tZ3RrdXNyOjU2MDAiXSwicmVhbG1fYWNjZXNzIjp7InJvbGVzIjpbImFkbWluIiwidW1hX2F1dGhvcml6YXRpb24iXX0sInJlc291cmNlX2FjY2VzcyI6eyJyZWFsbS1tYW5hZ2VtZW50Ijp7InJvbGVzIjpbInZpZXctcmVhbG0iLCJ2aWV3LWlkZW50aXR5LXByb3ZpZGVycyIsIm1hbmFnZS1pZGVudGl0eS1wcm92aWRlcnMiLCJpbXBlcnNvbmF0aW9uIiwicmVhbG0tYWRtaW4iLCJjcmVhdGUtY2xpZW50IiwibWFuYWdlLXVzZXJzIiwicXVlcnktcmVhbG1zIiwidmlldy1hdXRob3JpemF0aW9uIiwicXVlcnktY2xpZW50cyIsInF1ZXJ5LXVzZXJzIiwibWFuYWdlLWV2ZW50cyIsIm1hbmFnZS1yZWFsbSIsInZpZXctZXZlbnRzIiwidmlldy11c2VycyIsInZpZXctY2xpZW50cyIsIm1hbmFnZS1hdXRob3JpemF0aW9uIiwibWFuYWdlLWNsaWVudHMiLCJxdWVyeS1ncm91cHMiXX0sImFjY291bnQiOnsicm9sZXMiOlsibWFuYWdlLWFjY291bnQiLCJtYW5hZ2UtYWNjb3VudC1saW5rcyIsInZpZXctcHJvZmlsZSJdfX0sIm5hbWUiOiJBZG1pbiBEZWZhdWx0IiwicHJlZmVycmVkX3VzZXJuYW1lIjoic29uYXRhIiwiZ2l2ZW5fbmFtZSI6IkFkbWluIiwiZmFtaWx5X25hbWUiOiJEZWZhdWx0IiwiZW1haWwiOiJzb25hdGEuYWRtaW5AZW1haWwuY29tIn0.KAWZiENk_i3gT39R91bIZYUkmL7Gm4eFChL29oK1UeOfWkuWioawOPNSYdAyGoD6_5yRgYg70cu-mPCw47RpaonDhA3SCMDsXSs-gCoJFnGjcrBHKCUQkCmxxAS_mR7ku_N9qtiwI7jmG3nmWIgB5MuQgg35KIYFqlxY-NGKZwV4A2QbeR1DqKFTyE4hxRbnv4ktO6tOC7vPfOG53d5SuSd2BdeKbOoY9bXX_8MrzzxERaHVHhyQ9OZTTEouDLrm2-coj4P7U4Ml7D7r8-w9sw1TyUfXnq4AKZe4-iHVrBPFq0rLnhZCqqAwqnIwBqBTUZVF-pMhflPDxgKNMyJpCg'}, 'method': 'GET', 'verify': True} 2018-05-21 15:17:18,414 [INFO]: (tavern.core:99) Running stage : get_packages 2018-05-21 15:17:18,640 [INFO]: (tavern.response.rest:72) Response: '<Response [200]>' ([{"created_at":"2018-05-21T13:17:11.093+00:00","md5":"bb4fc843774a1992d85b5666636a589e","pd":{"description":"Example service with three chained empty VNFs","descriptor_version":"1.0","entry_service_template":"/service_descriptors/nsd.yml","maintainer":"Manuel Peuster, Paderborn University, manuel.peuster@uni-paderborn.de","name":"sonata-empty-service","package_content":[{"content-type":"application/sonata.service_descriptor","md5":"fcbce3ca1d7db2ae1c77f20c52d09cc5","name":"/service_descriptors/nsd.yml"},{"content-type":"application/sonata.function_descriptor","md5":"f31bb18d6eabec1335fc3070f1a1eec9","name":"/function_descriptors/empty-vnf3-vnfd.yml"},{"content-type":"application/sonata.function_descriptor","md5":"24964c56ebabd0cf8c0e697a671ab531","name":"/function_descriptors/empty-vnf2-vnfd.yml"},{"content-type":"application/sonata.function_descriptor","md5":"626429b0bd9b7be8c1b3e87f1e24e1ab","name":"/function_descriptors/empty-vnf1-vnfd.yml"}],"schema":"https://raw.githubusercontent.com/sonata-nfv/son-schema/master/package-descriptor/pd-schema.yml","sealed":true,"vendor":"eu.sonata-nfv.package","version":"0.4"},"signature":null,"son_package_uuid":"664b6375-8ec6-482d-b103-a2d56bae731c","status":"active","updated_at":"2018-05-21T13:17:11.842+00:00","username":"sonata","uuid":"4fd997db-1050-413b-93f1-67b303e33a9b"}]) 2018-05-21 15:17:18,641 [DEBUG]: (tavern.response.rest:197) Nothing expected to save for body 2018-05-21 15:17:18,641 [DEBUG]: (tavern.response.rest:197) Nothing expected to save for headers 2018-05-21 15:17:18,641 [DEBUG]: (tavern.response.rest:197) Nothing expected to save for redirect_query_params 2018-05-21 15:17:18,641 [DEBUG]: (tavern.response.rest:127) No save function 2018-05-21 15:17:18,641 [DEBUG]: (tavern.response.rest:175) Validating body for {} 2018-05-21 15:17:18,641 [DEBUG]: (tavern.response.base:57) Nothing to check against 2018-05-21 15:17:18,641 [DEBUG]: (tavern.response.rest:175) Validating headers for {} 2018-05-21 15:17:18,641 [DEBUG]: (tavern.response.base:57) Nothing to check against 2018-05-21 15:17:18,641 [DEBUG]: (tavern.response.rest:175) Validating redirect_query_params for {} 2018-05-21 15:17:18,641 [DEBUG]: (tavern.response.base:57) Nothing to check against 2018-05-21 15:17:18,641 [INFO]: (tavern.printer:10) PASSED: get_packages
